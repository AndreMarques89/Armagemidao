<app-main [title]="'Login'" [subtitle]="'Acesse o sistema'">
  <div class="row">
    <form 
      class="col-12 col-md-6 offset-md-3" 
      (ngSubmit)="loginForm.form.valid && signIn(email, pass)" 
      #loginForm="ngForm"
    >
      <div class="form-group">
        <label for="inpEmail">Email</label>
        <input
          type="email"
          class="form-control"
          id="inpEmail"
          placeholder="bbwatch@email.com"
          [(ngModel)]="email"
          name="inpEmail"
          required
          email
          pattern="^[\w.%+-]+@[\w-]+(\.[a-zA-Z0-9]+)+$"
          #inpEmail="ngModel"
          [ngClass]="{ 'is-invalid': loginForm.submitted && inpEmail.invalid }"
        />
      </div>
      <div class="form-group">
        <label for="inpPass1">Senha</label>
        <input
          type="password"
          class="form-control"
          id="inpPass1"
          name="inpPass1"
          placeholder="Password"
          [(ngModel)]="pass"
          required
          #Password="ngModel"
          [ngClass]="{ 'is-invalid': loginForm.submitted && Password.invalid }"
        />
      </div>
      <div class="row">
        <div class="col-12 col-md-6 mt-2">
          <button
            type="submit"
            class="btn btn-primary btn-block"
          >
            Entrar
          </button>
        </div>
        <div class="col-12 col-md-6 mt-2">
          <button
            type="button"
            class="btn btn-danger btn-block"
            (click)="resetPassword(email, inpEmail.valid)"
          >
            Redefinir senha
          </button>
        </div>
      </div>      
      <div class="col-12 mt-2 alert alert-danger" *ngIf="!!error && showError">
        {{error}}
      </div>
    </form>
  </div>
</app-main>
